jQuery(document).ready(function(c){function t(c,t,a){fbq(c,t,i(a))}function a(c,t){document.cookie=c+"="+t+";path=/"}function e(c){var t="; "+document.cookie,a=t.split("; "+c+"=");return 2===a.length?a.pop().split(";").shift():!1}function o(c){for(var t=[],a=location.search.substr(1).split("&"),e=0;e<a.length;e++)if(t=a[e].split("="),t[0]===c)return decodeURIComponent(t[1]).replace(/\+/g," ");return null}function i(c){for(var t in c)"string"==typeof c[t]&&(c[t]=c[t].replace("{post_id}",fcaPcPost.id).replace("{post_title}",fcaPcPost.title).replace("{post_type}",fcaPcPost.type).replace("{post_category}",fcaPcPost.categories.join(", ")));return fcaPcPost.utm_support&&(c=d(c)),fcaPcPost.user_parameters&&(c=n(c)),c}function n(c){for(var t=["referrer","language","logged_in","post_tag","post_category"],a=0;a<t.length;a++)fcaPcUserParams[t[a]]&&(c[t[a]]=fcaPcUserParams[t[a]]);return c}function r(){var t=c(window).scrollTop(),a=c(document).height()-c(window).height();return 0==a?100:100*(t/a)}function d(c){for(var t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],a=0;a<t.length;a++)null!==o(t[a])&&(c[t[a]]=o(t[a]));return c}!function(){for(var a=0;a<fcaPcEvents.length;a++){var e=fcaPcEvents[a].event,o=fcaPcEvents[a].parameters,i=fcaPcEvents[a].triggerType,n=fcaPcEvents[a].trigger,d=fcaPcEvents[a].apiAction;switch(i){case"css":c(n).bind("click",{name:e,params:o,apiAction:d},function(c){t(c.data.apiAction,c.data.name,c.data.params)});break;case"hover":c(n).bind("hover",{name:e,params:o,apiAction:d,trigger:n},function(a){t(a.data.apiAction,a.data.name,a.data.params),c(a.data.trigger).unbind("hover")});break;case"post":fcaPcEvents[a].hasOwnProperty("delay")&&fcaPcEvents[a].hasOwnProperty("scroll")?setTimeout(function(a,e,o,i){c(window).scroll({scrollTarget:a,apiAction:e,eventName:o,parameters:i},function(a){a.data.scrollTarget<=r()&&(c(window).unbind(a),t(e,o,i))}).scroll()},1e3*fcaPcEvents[a].delay,fcaPcEvents[a].scroll,d,e,o):fcaPcEvents[a].hasOwnProperty("delay")?setTimeout(t,1e3*fcaPcEvents[a].delay,d,e,o):t(d,e,o);break;case"url":c("a").each(function(){c(this).attr("href")===n&&c(this).bind("click",{name:e,params:o,apiAction:d},function(c){t(c.data.apiAction,c.data.name,c.data.params)})})}}}(),"undefined"!=typeof fcaPcSearchQuery&&t("track","Search",fcaPcSearchQuery),"undefined"!=typeof fcaPcQuizCatEnabled&&(c(".fca_qc_start_button").click(function(){var a=parseInt(c(this).closest(".fca_qc_quiz").prop("id").replace("fca_qc_quiz_","")),e=c(this).closest(".fca_qc_quiz").find(".fca_qc_quiz_title").text();return t("trackCustom","QuizStart",{quiz_id:a,quiz_name:e}),!0}),c(".fca_qc_share_link").click(function(){var a=parseInt(c(this).closest(".fca_qc_quiz").prop("id").replace("fca_qc_quiz_","")),e=c(this).closest(".fca_qc_quiz").find(".fca_qc_quiz_title").text();return t("trackCustom","QuizShare",{quiz_id:a,quiz_name:e}),!0}),c(".fca_qc_submit_email_button").click(function(){if(c(this).siblings("#fca_qc_email_input").val()){var a=parseInt(c(this).closest(".fca_qc_quiz").prop("id").replace("fca_qc_quiz_","")),e=c(this).closest(".fca_qc_quiz").find(".fca_qc_quiz_title").text();return t("track","Lead",{quiz_id:a,quiz_name:e}),!0}}),c(".fca_qc_score_title").on("DOMSubtreeModified",function(){if(!c(this).data("pixelcat")){c(this).data("pixelcat",!0);var a=parseInt(c(this).closest(".fca_qc_quiz").prop("id").replace("fca_qc_quiz_","")),e=c(this).closest(".fca_qc_quiz").find(".fca_qc_quiz_title").text();t("trackCustom","QuizCompletion",{quiz_id:a,quiz_name:e,quiz_result:c(this).text()})}return!0})),"undefined"!=typeof fcaPcEddCheckoutCart&&(t("track","InitiateCheckout",fcaPcEddCheckoutCart),c("#edd_purchase_form").on("submit",function(){return t("track","AddPaymentInfo",fcaPcEddCheckoutCart),!0})),"undefined"!=typeof fcaPcEddProduct&&(fcaPcPost.edd_delay?setTimeout(t,1e3*fcaPcPost.edd_delay,"track","ViewContent",fcaPcEddProduct):t("track","ViewContent",fcaPcEddProduct),c(".edd-add-to-cart").click(function(){t("track","AddToCart",fcaPcEddProduct)}),c(".wl-add-to, .add_to_wishlist").click(function(){t("track","AddToWishlist",fcaPcEddProduct)})),e("fca_pc_edd_purchase")&&(t("track","Purchase",JSON.parse(decodeURIComponent(e("fca_pc_edd_purchase").replace(/\+/g,"%20")))),a("fca_pc_edd_purchase","")),e("fca_pc_advanced_matching")&&a("fca_pc_advanced_matching",""),"undefined"!=typeof fcaPcWooAddToCart&&t("track","AddToCart",fcaPcWooAddToCart),"undefined"!=typeof fcaPcWooCheckoutCart&&(t("track","InitiateCheckout",fcaPcWooCheckoutCart),c("form.checkout").on("checkout_place_order",function(){return t("track","AddPaymentInfo",fcaPcWooCheckoutCart),!0})),"undefined"!=typeof fcaPcWooPurchase&&t("track","Purchase",fcaPcWooPurchase),"undefined"!=typeof fcaPcWooProduct&&(fcaPcPost.woo_delay?setTimeout(t,1e3*fcaPcPost.woo_delay,"track","ViewContent",fcaPcWooProduct):t("track","ViewContent",fcaPcWooProduct),c(".wl-add-to, .add_to_wishlist").click(function(){t("track","AddToWishlist",fcaPcWooProduct)})),fcaPcDebug.debug&&(console.log("pixel cat events:"),console.log(fcaPcEvents),console.log("pixel cat post:"),console.log(fcaPcPost))});
